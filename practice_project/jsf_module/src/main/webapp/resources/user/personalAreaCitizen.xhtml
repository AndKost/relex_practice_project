<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:p="http://primefaces.org/ui">
	<h:head>
    	<title>Личный кабинет</title>
	</h:head>
  
	<h:body>
		<h:form id="panelInfo">
			<p:growl showDetail="true" sticky="false" life="2000"/>
			<p:panel header="Личный кабинет #{viewData.time}">
				<p:panelGrid columns="2">
					<h:outputText value="Имя" />
					<p:inputText value="#{viewData.citizen.firstName}" 
						readonly="#{not viewData.changeData}"/>
					
					<h:outputText value="Фамилия" />
					<p:inputText value="#{viewData.citizen.lastName}" 
						readonly="#{not viewData.changeData}"/>
					
					<h:outputText value="Электронная почта" />
					<p:inputText value="#{viewData.citizen.email}" 
						readonly="#{not viewData.changeData}"/>
						
					<h:outputText value="Бонусные баллы" />
					<p:inputText value="#{viewData.citizen.bonusPoint}" 
						readonly="true"/>
						
				</p:panelGrid>
				<p:commandButton value="Редактировать" ajax="true" action="#{viewData.edit}"
									update="panelInfo" immediate="true"
									rendered="#{not viewData.changeData}"/>
				<p:commandButton value="Сохранить" ajax="true"
							action="#{viewData.saveCitizen}" rendered="#{viewData.changeData}"
							update="panelInfo"/>
				<p:commandButton value="На главную страницу" ajax="false" immediate="true"
							action="#{viewData.toHome}"/>			
			</p:panel>			
		</h:form>
	</h:body>
  
</html>